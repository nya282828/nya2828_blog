---
import type { CollectionEntry } from 'astro:content';
import BaseLayout from '../layouts/BaseLayout.astro';
import FormattedDate from '../components/FormattedDate.astro';
import BackLink from '../components/BackLink.astro';

type Props = CollectionEntry<'blog'>['data'];

const { title, description, pubDate, updatedDate, heroImage, heroAlt, tags } = Astro.props;
---

<BaseLayout>
	<article class="c-blog l-rail l-rail--full l-rail--fit-left">
		<div class="c-blog__head">
			<div class="l-rail l-rail--overflow--m">
				<figure class="c-blog__hero c-media">
					<div class="c-image c-image--hero u-ar-16x9">
						{heroImage && <img width="100%" src={heroImage} alt={heroAlt} />}
					</div>
				</figure>
				<div class="c-blog__head__info">
					<p class="c-blog__head__date">
						<FormattedDate date={pubDate} />
						{
							updatedDate && (
								<span class="t-time t-time--update">Last updated on </span>
								<FormattedDate date={updatedDate} />
							)
						}
					</p>
					<h1 class="c-blog__title t-headline1">{title}</h1>
				</div>
			</div>
		</div>
		<div class="c-blog__body">
			<slot />
		</div>
	</article>
	<BackLink></BackLink>
</BaseLayout>
